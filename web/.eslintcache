[{"/Users/yooniverse/Documents/Git/PiPrinter/web/src/index.js":"1","/Users/yooniverse/Documents/Git/PiPrinter/web/src/App.js":"2","/Users/yooniverse/Documents/Git/PiPrinter/web/src/Auth.js":"3","/Users/yooniverse/Documents/Git/PiPrinter/web/src/Dashboard.js":"4","/Users/yooniverse/Documents/Git/PiPrinter/web/src/shared.js":"5","/Users/yooniverse/Documents/Git/PiPrinter/web/src/CalendarWidget.js":"6"},{"size":213,"mtime":1609393925229,"results":"7","hashOfConfig":"8"},{"size":464,"mtime":1610770447107,"results":"9","hashOfConfig":"8"},{"size":1696,"mtime":1610770731901,"results":"10","hashOfConfig":"8"},{"size":6094,"mtime":1622685916234,"results":"11","hashOfConfig":"8"},{"size":636,"mtime":1610772817691,"results":"12","hashOfConfig":"8"},{"size":3808,"mtime":1618261413568,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"e1hdu8",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},{"filePath":"19","messages":"20","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"16"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26","usedDeprecatedRules":"16"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},"/Users/yooniverse/Documents/Git/PiPrinter/web/src/index.js",[],["30","31"],"/Users/yooniverse/Documents/Git/PiPrinter/web/src/App.js",[],"/Users/yooniverse/Documents/Git/PiPrinter/web/src/Auth.js",["32","33"],"import React from \"react\";\nimport {Input, Header, Segment} from \"semantic-ui-react\";\nimport Cookies from \"js-cookie\";\n\nclass Auth extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {inputVal: \"\"};\n    }\n    \n    onSubmit = () => {\n        if(this.state.inputVal.length == 0) return;\n        Cookies.set(\"auth_token\", this.state.inputVal, {\n            expires: 365\n        });\n        window.location = \"/\";\n    }\n\n    render(){\n        return (\n            <div>\n                <div style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                    height: \"100vh\"\n                }}>\n                    <Segment basic compact textAlign=\"center\">\n                        <Header size=\"large\">Welcome!</Header>\n                        <Input\n                            placeholder=\"Access token\"\n                            value={this.state.inputVal}\n                            icon=\"lock\"\n                            iconPosition=\"left\"\n                            onChange={(e, data) => {\n                                this.setState({inputVal: data.value});\n                            }}\n                            action={{\n                                positive: true,\n                                icon: \"right arrow\",\n                                onClick: this.onSubmit,\n                                disabled: this.state.inputVal.length == 0\n                            }}\n                        />\n                    </Segment>\n                </div>\n            </div>\n        );\n    }\n}\n\nAuth.propTypes = {\n    \n};\n\nexport default Auth;","/Users/yooniverse/Documents/Git/PiPrinter/web/src/Dashboard.js",["34","35","36","37","38","39","40","41"],"/Users/yooniverse/Documents/Git/PiPrinter/web/src/shared.js",["42","43"],"import Cookies from \"js-cookie\";\n\nexport const API_ENDPOINT_BASE = `http://${window.location.hostname}:1234/api/`;\n\n/**\n * Loads the auth token token from cookies.\n * @param {boolean} redirectIfNotPresent True to redirect to the auth page if cookie is not found.\n * @returns {string} The auth token if found, null otherwise.\n */\nexport function loadAuthFromCookies(redirectIfNotPresent){\n    let token = Cookies.get(\"auth_token\");\n    if(token == null || token == undefined || token.length == 0){\n        if(redirectIfNotPresent === true) {\n            window.location = \"/auth\";\n        }\n        return null;\n    }\n    return token;\n}","/Users/yooniverse/Documents/Git/PiPrinter/web/src/CalendarWidget.js",["44","45","46","47"],"import React from \"react\";\nimport {Segment, Button, Header, Input} from \"semantic-ui-react\";\nimport { API_ENDPOINT_BASE } from \"./shared\";\n\nexport default class CalendarWidget extends React.Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            code: \"\",\n            showAuthFlow: false,\n            loading: false,\n            authURL: \"\"\n        };\n    }\n    \n    sendAuthCode = () => {\n        if(this.state.code.length == 0) return;\n        this.setState({loading: true});\n        const data = {\n            \"code\": this.state.code\n        };\n        fetch(API_ENDPOINT_BASE + \"set_google_auth_code\", {\n            headers: {\n                \"Authorization\": \"Bearer \" + this.props.authToken,\n                \"Content-Type\": \"application/json\"\n            },\n            method: \"POST\",\n            body: JSON.stringify(data)\n        }).then((data) => {\n            console.log(data.status);\n            data.text().then(console.log);\n            if(!data.ok){\n                if(data.status == 401){\n                    window.location = \"/auth\";\n                    return;\n                }\n                alert(\"Received an error response from server.\");\n                this.setState({loading: false});\n            }else{\n                this.setState({loading: false, code: \"\", showAuthFlow: false});\n            }\n        });\n    }\n\n    printAgenda = () => {\n        this.setState({loading: true});\n        fetch(API_ENDPOINT_BASE + \"print_calendar\", {\n            headers: {\n                \"Authorization\": \"Bearer \" + this.props.authToken\n            },\n            method: \"POST\"\n        }).then((data) => {\n            console.log(data.status);\n            if(!data.ok){\n                if(data.status == 401){\n                    window.location = \"/auth\";\n                    return;\n                }\n                if(data.body != null){\n                    data.json().then(json => {\n                        console.log(json);\n                        if(\"status\" in json && json.status === \"not_authorized\"){\n                            this.setState({loading: false, showAuthFlow: true, authURL: json.authorizationUrl});\n                            return;\n                        }\n                        alert(\"Received an error response from server.\");\n                    }, e => {\n                        console.error(e);\n                        alert(\"Received an error response from server.\");\n                    });\n                }else{\n                    alert(\"Received an error response from server.\");\n                }\n            }\n            this.setState({loading: false, textVal: \"\"});\n        });\n    }\n\n    render(){\n        return (\n            <Segment>\n                <Header size=\"medium\">Google Calendar</Header>\n                {\n                    this.state.showAuthFlow ? (\n                        <>\n                            <p>\n                                <a href={this.state.authURL} target=\"_blank\">Click here</a> to authorize Google Calendar, then paste the code below:\n                            </p>\n                            <Input placeholder=\"Paste code here\" value={this.state.code} onChange={(e, data) => {\n                                this.setState({code: data.value});\n                            }} action={\n                                <Button onClick={this.sendAuthCode} positive icon=\"check\" />\n                            } />\n                        </>\n                    ) : (\n                        <>\n                            <Button primary size=\"large\" icon=\"calendar alternate\" labelPosition=\"left\" content=\"Print agenda\" onClick={this.printAgenda} />\n                        </>\n                    )\n                }\n            </Segment>\n        );\n    }\n}",{"ruleId":"48","replacedBy":"49"},{"ruleId":"50","replacedBy":"51"},{"ruleId":"52","severity":1,"message":"53","line":12,"column":39,"nodeType":"54","messageId":"55","endLine":12,"endColumn":41},{"ruleId":"52","severity":1,"message":"53","line":42,"column":70,"nodeType":"54","messageId":"55","endLine":42,"endColumn":72},{"ruleId":"52","severity":1,"message":"53","line":21,"column":34,"nodeType":"54","messageId":"55","endLine":21,"endColumn":36},{"ruleId":"52","severity":1,"message":"53","line":28,"column":28,"nodeType":"54","messageId":"55","endLine":28,"endColumn":30},{"ruleId":"56","severity":1,"message":"57","line":35,"column":15,"nodeType":"58","messageId":"59","endLine":35,"endColumn":19},{"ruleId":"52","severity":1,"message":"53","line":50,"column":32,"nodeType":"54","messageId":"55","endLine":50,"endColumn":34},{"ruleId":"52","severity":1,"message":"53","line":70,"column":38,"nodeType":"54","messageId":"55","endLine":70,"endColumn":40},{"ruleId":"52","severity":1,"message":"53","line":86,"column":32,"nodeType":"54","messageId":"55","endLine":86,"endColumn":34},{"ruleId":"52","severity":1,"message":"53","line":107,"column":32,"nodeType":"54","messageId":"55","endLine":107,"endColumn":34},{"ruleId":"52","severity":1,"message":"53","line":135,"column":155,"nodeType":"54","messageId":"55","endLine":135,"endColumn":157},{"ruleId":"52","severity":1,"message":"53","line":12,"column":31,"nodeType":"54","messageId":"55","endLine":12,"endColumn":33},{"ruleId":"52","severity":1,"message":"53","line":12,"column":60,"nodeType":"54","messageId":"55","endLine":12,"endColumn":62},{"ruleId":"52","severity":1,"message":"53","line":17,"column":35,"nodeType":"54","messageId":"55","endLine":17,"endColumn":37},{"ruleId":"52","severity":1,"message":"53","line":33,"column":32,"nodeType":"54","messageId":"55","endLine":33,"endColumn":34},{"ruleId":"52","severity":1,"message":"53","line":55,"column":32,"nodeType":"54","messageId":"55","endLine":55,"endColumn":34},{"ruleId":"60","severity":1,"message":"61","line":87,"column":33,"nodeType":"62","endLine":87,"endColumn":78},"no-native-reassign",["63"],"no-negated-in-lhs",["64"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-unused-vars","'type' is assigned a value but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","no-global-assign","no-unsafe-negation"]